#!/bin/bash
#SBATCH --nodes=1
#SBATCH --cpus-per-task=30
#SBATCH --array=0-29
#SBATCH -o output_%A_%a.txt
#SBATCH -e error_%A_%a.txt
#SBATCH -p phys-k
module load python
bvec=(1000000000.0 1262600109.8748577 1594159037.4559963 2012785375.8499384 2541343036.702639 3208699997.370444 4051304969.235378 5115178099.293145 6458424430.196991 8154407395.185153 10295755673.125128 12999422244.132477 16413071953.751266 20723146452.190296 26165046987.488235 33035991201.28333 41711246120.56516 52664623934.84281 66494359966.65032 83955786199.95103 106002584880.68823 133838875317.37592 168984978681.2455 213360452650.14108 269388930959.01755 340130493827.92456 429448798878.9272 542222100650.15924 684609683857.4672 864388262059.826 1091376714651.2739 1377972359833.554 1739828052930.362 2196707090793.2354 2773562614198.418 3501900461431.7056 4421499907374.486 5582586268862.7 7048574036451.889 8899530352885.225 11236548001387.516 14187266741165.99 17912844546220.02 22616759492228.645 28555923019901.004 36054711542504.984 45522682755073.09 57476944248353.586 72570396123242.31 91627390118867.31 115688752831628.33 146068632036498.6 184426270858553.28 232856629849819.66 294004806433471.4 371210500906635.7 468690419231419.25 591768574818880.6 747167067586806.6 943373221629977.4 1191103133283007.8 1503886946955413.2 1898807824465261.2 2397434967801078.5 3027001653763455.5 3821892620633114.5 4825522042741278.0 6092704661368687.0 7692649574879161.0 9712740198471166.0 1.2263306841775594e+16 1.5483652565854958e+16 1.954966143091259e+16 2.4683404670686508e+16 3.1165269449294364e+16 3.9349272630958296e+16 4.968239594734367e+16 6.27289985819623e+16 7.92016405019254e+16 1e+17)
i=$SLURM_ARRAY_TASK_ID
bmin=${bvec[$i]}
bmax=${bvec[$i+1]}
echo "Running jobs for i=$i, bmin=$bmin, bmax=$bmax"
parallel -j30 "python Shu.py {1} {2} {3} 10829000000000.0 {4} {5} {6} {7}" ::: $bmin ::: $bmax ::: 18.33030277982336 20.977552238954623 24.007115606538306 27.474206388839207 31.4420119879356 35.98284528615474 41.17946254152421 47.12657161275888 53.93255800104203 61.72146016554844 70.63523011264877 80.83632045782001 92.51064510922039 105.87096753110826 121.16077833788482 138.6587328875466 158.68372974926882 181.60072259971273 207.82737146931575 237.84165455690365 272.1905793372239 311.500151720514 356.4867849510963 407.97035617109765 466.8891486039379 534.3169516774636 611.4826307348637 699.7925229894983 800.8560678877949 916.5151389911683 ::: {#} ::: simulation.csv ::: 100
